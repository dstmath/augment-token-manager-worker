# 开发环境配置文件
name = "augtoken-manager-dev"
main = "src/index.ts"
compatibility_date = "2025-09-20"
compatibility_flags = ["nodejs_compat"]

[observability]
enabled = true

[assets]
directory = "./dist"
binding = "ASSETS"

[vars]
# 用户凭据，支持数组格式 (User credentials, supports array format)
# 推荐使用数组格式，避免密码中包含逗号的问题
USER_CREDENTIALS = ["admin:your-password", "user:user-password"]
# 也支持旧的字符串格式（兼容性）: "admin:your-password"

# CloudMail邮箱服务配置 (CloudMail email service configuration) - 可选
# 可用的邮箱域名列表 (Available email domains)
EMAIL_DOMAINS = ["your-domain1.com","your-domain2.com","your-domain3.com"]
# 您的CloudMail部署基础URL (Your CloudMail deployment base URL)
EMAIL_API_BASE_URL = "https://your-cloudmail-domain.com"
# CloudMail管理员令牌 (CloudMail admin token)
EMAIL_API_TOKEN = "your-cloudmail-admin-token"

# 数值配置已硬编码，无需配置：
# - SESSION_EXPIRES_IN: 24小时
# - RATE_LIMIT_LOGIN: 10次/分钟
# - RATE_LIMIT_API: 100次/分钟
# - TOKEN_VALIDATION_TIMEOUT: 30秒

# KV存储命名空间配置 (KV Storage Namespaces)
# 使用 npm run kv:create:dev 创建命名空间后，将生成的ID替换下面的占位符
# (Create namespaces with: npm run kv:create:dev, then replace IDs below)

# Token记录存储 (Token records storage)
[[kv_namespaces]]
binding = "TOKENS_KV"
id = "your-tokens-kv-namespace-id"

# 会话和临时数据存储 (Session and temporary data storage)
# 包含：用户会话、OAuth状态、速率限制数据
# (Contains: user sessions, OAuth state, rate limiting data)
[[kv_namespaces]]
binding = "SESSIONS_KV"
id = "your-sessions-kv-namespace-id"
